var __reflect=this&&this.__reflect||function(e,t,o){e.__class__=t,o?o.push(t):o=[t],e.__types__=e.__types__?o.concat(e.__types__):o},__extends=this&&this.__extends||function(e,t){function o(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);o.prototype=t.prototype,e.prototype=new o},__awaiter=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(a,s){function r(e){try{h(i.next(e))}catch(t){s(t)}}function n(e){try{h(i["throw"](e))}catch(t){s(t)}}function h(e){e.done?a(e.value):new o(function(t){t(e.value)}).then(r,n)}h((i=i.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){function o(e){return function(t){return i([e,t])}}function i(o){if(a)throw new TypeError("Generator is already executing.");for(;h;)try{if(a=1,s&&(r=s[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(s,o[1])).done)return r;switch(s=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return h.label++,{value:o[1],done:!1};case 5:h.label++,s=o[1],o=[0];continue;case 7:o=h.ops.pop(),h.trys.pop();continue;default:if(r=h.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){h=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){h.label=o[1];break}if(6===o[0]&&h.label<r[1]){h.label=r[1],r=o;break}if(r&&h.label<r[2]){h.label=r[2],h.ops.push(o);break}r[2]&&h.ops.pop(),h.trys.pop();continue}o=t.call(e,h)}catch(i){o=[6,i],s=0}finally{a=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var a,s,r,n,h={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return n={next:o(0),"throw":o(1),"return":o(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n},GameObject=function(){function e(){this.shape=null,this.destroyFlag=!1,e.objects.push(this)}return e.initial=function(t){e.objects=[],e.display=t},e.update=function(){e.objects.forEach(function(e){return e.updateContent()}),e.objects=e.objects.filter(function(e){return e.destroyFlag&&e["delete"](),!e.destroyFlag}),e.transit&&(e.allDestroy(),e.transit(),e.transit=null)},e.allDestroy=function(){e.objects=e.objects.filter(function(e){return e.destroy(),e["delete"](),!1})},e.prototype.destroy=function(){this.destroyFlag=!0},e.prototype.addDestroyMethod=function(){},e.prototype["delete"]=function(){this.addDestroyMethod(),this.shape&&(e.display.removeChild(this.shape),this.shape=null)},e.objects=[],e}();__reflect(GameObject.prototype,"GameObject");var PhysicsObject=function(e){function t(){var t=e.call(this)||this;return t.body=null,t.bodyShape=null,t}return __extends(t,e),t.prototype.addDestroyMethod=function(){CreateWorld.world.removeBody(this.body)},t.world=null,t}(GameObject);__reflect(PhysicsObject.prototype,"PhysicsObject");var PhysicsLine=function(e){function t(t,o,i,a,s){var r=e.call(this)||this;return r.x=t,r.y=o,r.length=i,r.angle=a,r.lineColor=s,r.setBody(t,o,i,a),r.setShape(r.length,r.angle),r}return __extends(t,e),t.prototype.setBody=function(e,t,o,i){this.body=new p2.Body({mass:1,position:[e,t],type:p2.Body.STATIC}),this.bodyShape=new p2.Line({length:o}),this.bodyShape.angle=i,this.bodyShape.collisionGroup=GraphicShape.LINE,this.bodyShape.collisionMask=GraphicShape.CIECLE,this.bodyShape.sensor=!0,this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},t.prototype.setShape=function(e,t){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX=0,this.shape.y=this.body.position[1],this.shape.graphics.lineStyle(3,this.lineColor),this.shape.graphics.moveTo(0,0),this.shape.graphics.lineTo(Game.width,0),GameObject.display.addChild(this.shape)},t.prototype.updateDrowShape=function(e,t){this.shape.x=e,this.shape.y=t,GameObject.display.addChild(this.shape)},t}(PhysicsObject);__reflect(PhysicsLine.prototype,"PhysicsLine");var ScoreLine=function(e){function t(t,o,i,a,s){var r=e.call(this,t,o,i,a,s)||this;return r.collisionFlag=!1,r}return __extends(t,e),t.prototype.setShape=function(e,t){this.shape&&MoveDisplay.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX=0,this.shape.y=this.body.position[1],this.shape.graphics.lineStyle(3,this.lineColor),this.shape.graphics.moveTo(Game.width,0),this.shape.graphics.lineTo(0,0),MoveDisplay.display.addChild(this.shape)},t.prototype.updateBodyShape=function(){this.body.position[0]+=MoveDisplay.moveSpeed[0],this.body.position[1]+=MoveDisplay.moveSpeed[1],this.shape.y=this.body.position[1],MoveDisplay.display.addChild(this.shape),this.shape.y>2*Game.height&&(this.body.position[1]-=3*Game.height,null==this.bodyShape.collisionMask&&(this.bodyShape.collisionMask=GraphicShape.CIECLE))},t.prototype.addDestroyMethod=function(){this.shape&&(MoveDisplay.display.removeChild(this.shape),this.shape=null)},t.prototype.updateContent=function(){0==Game.gameOverFlag&&this.updateBodyShape()},t.prototype.collisionEvent=function(){},t.scoreLineColor=16711680,t}(PhysicsLine);__reflect(ScoreLine.prototype,"ScoreLine");var Box=function(e){function t(t,o,i,a,s){var r=e.call(this)||this;return r.setShape(t,o,i,a,s),r}return __extends(t,e),t.prototype.setShape=function(e,t,o,i,a){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(a),this.shape.graphics.drawRect(0,0,o,i),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t.prototype.updateContent=function(){},t}(GameObject);__reflect(Box.prototype,"Box");var PhysicsBox=function(e){function t(t,o,i,a,s){var r=e.call(this)||this;return r.boxPositionX=t,r.boxPositionY=o,r.boxWidth=i,r.boxHeight=a,r.boxColor=s,r.setBody(t,o,i,a),r.setShape(r.boxWidth,r.boxHeight),r}return __extends(t,e),t.prototype.setBody=function(e,t,o,i){this.body=new p2.Body({mass:1,position:[e,t],type:p2.Body.STATIC}),this.bodyShape=new p2.Box({width:o,height:i,fixedRotation:!0,collisionGroup:GraphicShape.BOX,collisionMask:GraphicShape.CIECLE}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},t.prototype.setShape=function(e,t){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=e/2,this.shape.anchorOffsetY+=t/2,this.shape.x=this.body.position[0],this.shape.y=this.body.position[1],this.shape.graphics.beginFill(this.boxColor),this.shape.graphics.drawRect(0,0,e,t),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t.prototype.updateDrowShape=function(e,t){this.shape.x=e,this.shape.y=t,GameObject.display.addChild(this.shape)},t}(PhysicsObject);__reflect(PhysicsBox.prototype,"PhysicsBox");var MyBox=function(e){function t(t,o,i,a,s){var r=e.call(this,t,o,i,a,s)||this;return r.mySideSpeed=1,r.rightMoveFlag=!0,r.boxType=BoxType.NORMAL,r.moveDisplayPosX=MoveDisplay.display.x,r.moveDisplayPosY=MoveDisplay.display.y,r}return __extends(t,e),t.prototype.setShape=function(e,t){this.shape&&MoveDisplay.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.anchorOffsetX+=e/2,this.shape.anchorOffsetY+=t/2,this.shape.x=this.body.position[0],this.shape.y=this.body.position[1],this.shape.graphics.beginFill(this.boxColor),this.shape.graphics.drawRect(0,0,e,t),this.shape.graphics.endFill(),MoveDisplay.display.addChild(this.shape)},t.prototype.updateBodyShape=function(){this.body.position[0]+=MoveDisplay.moveSpeed[0],this.body.position[1]+=MoveDisplay.moveSpeed[1],this.shape.x=this.body.position[0],this.shape.y=this.body.position[1],MoveDisplay.display.addChild(this.shape),this.shape.y>2*Game.height&&(this.body.position[1]-=3*Game.height,this.destroy())},t.prototype.addDestroyMethod=function(){this.shape&&(MoveDisplay.display.removeChild(this.shape),this.shape=null)},t.prototype.updateContent=function(){this.updateBodyShape()},t.sideMoveSpeed=2,t.normalBoxColor=16711680,t.boldBoxColor=9055202,t.fastBoxColor=8388352,t}(PhysicsBox);__reflect(MyBox.prototype,"MyBox");var RightBox=function(e){function t(t,o,i,a,s){return e.call(this,t,o,i,a,s)||this}return __extends(t,e),t.prototype.sideMove=function(){this.rightMoveFlag===!0?(this.shape.x+=MyBox.sideMoveSpeed*this.mySideSpeed,this.body.position[0]+=MyBox.sideMoveSpeed*this.mySideSpeed,this.shape.x>=Game.width&&(this.rightMoveFlag=!1)):this.rightMoveFlag===!1&&(this.shape.x-=MyBox.sideMoveSpeed*this.mySideSpeed,this.body.position[0]-=MyBox.sideMoveSpeed*this.mySideSpeed,this.shape.x<=Game.width/2+this.shape.width/2&&(this.rightMoveFlag=!0))},t.prototype.changeBoxType=function(){switch(this.boxType=Util.randomInt(0,2),this.boxType){case BoxType.NORMAL:var e=new t(Game.width,-Game.height,300,50,MyBox.normalBoxColor),o=new LeftBox(0,-Game.height,300,50,MyBox.normalBoxColor);switch(Game.stageLevel){case StageLevel.ONE:e.mySideSpeed=1;break;case StageLevel.TWO:e.mySideSpeed=1.5;break;case StageLevel.THREE:e.mySideSpeed=2}o.mySideSpeed=e.mySideSpeed;break;case BoxType.BOLD:var i=new t(Game.width,-Game.height,300,250,MyBox.boldBoxColor),a=new LeftBox(0,-Game.height,300,250,MyBox.boldBoxColor);switch(Game.stageLevel){case StageLevel.ONE:i.mySideSpeed=.5;break;case StageLevel.TWO:i.mySideSpeed=1;break;case StageLevel.THREE:i.mySideSpeed=1.5}a.mySideSpeed=i.mySideSpeed;break;case BoxType.FAST:var s=new t(Game.width,-Game.height,300,30,MyBox.fastBoxColor),r=new LeftBox(0,-Game.height,300,30,MyBox.fastBoxColor);switch(Game.stageLevel){case StageLevel.ONE:s.mySideSpeed=2;break;case StageLevel.TWO:s.mySideSpeed=2.5;break;case StageLevel.THREE:s.mySideSpeed=3}r.mySideSpeed=s.mySideSpeed}},t.prototype.updateContent=function(){0==Game.gameOverFlag&&(this.updateBodyShape(),this.sideMove(),this.shape.y>2*Game.height&&this.changeBoxType())},t}(MyBox);__reflect(RightBox.prototype,"RightBox");var LeftBox=function(e){function t(t,o,i,a,s){return e.call(this,t,o,i,a,s)||this}return __extends(t,e),t.prototype.sideMove=function(){this.rightMoveFlag===!0?(this.shape.x+=MyBox.sideMoveSpeed*this.mySideSpeed,this.body.position[0]+=MyBox.sideMoveSpeed*this.mySideSpeed,this.shape.x>=Game.width/2-this.shape.width/2&&(this.rightMoveFlag=!1)):this.rightMoveFlag===!1&&(this.shape.x-=MyBox.sideMoveSpeed*this.mySideSpeed,this.body.position[0]-=MyBox.sideMoveSpeed*this.mySideSpeed,this.shape.x<=0&&(this.rightMoveFlag=!0))},t.prototype.updateContent=function(){0==Game.gameOverFlag&&(this.updateBodyShape(),this.sideMove())},t}(MyBox);__reflect(LeftBox.prototype,"LeftBox");var MainCamera=function(e){function t(){var o=e.call(this)||this;return t.I=o,t.display=new egret.DisplayObjectContainer,GameObject.display.addChild(t.display),o}return __extends(t,e),t.initial=function(e){t.display=e},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(MainCamera.prototype,"MainCamera");var MoveDisplay=function(e){function t(){var o=e.call(this)||this;return t.I=o,t.display=new egret.DisplayObjectContainer,GameObject.display.addChild(t.display),t.moveSpeed[0]=0,t.moveSpeed[1]=2,o}return __extends(t,e),t.initial=function(e){t.display=e},t.move=function(e,o){t.display.x+=e,t.display.y+=o,t.display.y>Game.height&&(t.display.y=-1)},t.prototype.updateContent=function(){0==Game.gameOverFlag},t.I=null,t.moveSpeed=[],t}(GameObject);__reflect(MoveDisplay.prototype,"MoveDisplay");var AssetAdapter=function(){function e(){}return e.prototype.getAsset=function(e,t,o){function i(i){t.call(o,i,e)}if(RES.hasRes(e)){var a=RES.getRes(e);a?i(a):RES.getResAsync(e,i,this)}else RES.getResByUrl(e,i,this,RES.ResourceItem.TYPE_IMAGE)},e}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var GameOver=function(e){function t(){var t=e.call(this)||this;return t.textGameOver=null,t.textScore=null,t.textColor=65339,t.textGameOver=Util.myText(Game.width/2,Game.height/2-50,"GAME OVER",100,.5,t.textColor,!0),t.textGameOver.anchorOffsetX=t.textGameOver.width/2,t.textGameOver.anchorOffsetY=t.textGameOver.height/2,GameObject.display.addChild(t.textGameOver),t.textScore=Util.myText(Game.width/2,Game.height/2+50,"SCORE : "+Score.I.score,100,.5,t.textColor,!0),t.textScore.anchorOffsetX=t.textScore.width/2,t.textScore.anchorOffsetY=t.textScore.height/2,GameObject.display.addChild(t.textScore),Score.I.score>=Score.I.bestScore&&window.localStorage.setItem("bestScore_ThroughTheGate",Score.I.score.toFixed()),GameObject.display.once(egret.TouchEvent.TOUCH_TAP,function(e){return t.tap(e)},t),t}return __extends(t,e),t.prototype.onDestroy=function(){GameObject.display.removeChild(this.textGameOver),this.textGameOver=null,GameObject.display.removeChild(this.textScore),this.textScore=null},t.prototype.updateContent=function(){GameObject.display.addChild(this.textGameOver),GameObject.display.addChild(this.textScore)},t.prototype.tap=function(e){GameObject.display.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){return MyBall.touch(e)},!1),GameObject.transit=Game.init,this.destroy()},t}(GameObject);__reflect(GameOver.prototype,"GameOver");var Ball=function(e){function t(t,o,i){var a=e.call(this)||this;return a.radius=null,a.setShape(t,o,i),a}return __extends(t,e),t.prototype.setShape=function(e,t,o){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,o),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t.prototype.updateContent=function(){},t.I=null,t}(GameObject);__reflect(Ball.prototype,"Ball");var PhysicsBall=function(e){function t(t,o,i){var a=e.call(this)||this;return a.radius=null,a.radius=i,a.setBody(t,o,i),a.setShape(t,o,i),a}return __extends(t,e),t.prototype.setBody=function(e,t,o){this.body=new p2.Body({mass:1,position:[e,t]}),this.bodyShape=new p2.Circle({radius:o,fixedRotation:!0,collisionGroup:GraphicShape.CIECLE,collisionMask:GraphicShape.BOX|GraphicShape.LINE|GraphicShape.DEAD_LINE}),this.body.addShape(this.bodyShape),CreateWorld.world.addBody(this.body)},t.prototype.setShape=function(e,t,o){this.shape&&GameObject.display.removeChild(this.shape),this.shape=new egret.Shape,this.shape.x=e,this.shape.y=t,this.shape.graphics.beginFill(16711680),this.shape.graphics.drawCircle(0,0,o),this.shape.graphics.endFill(),GameObject.display.addChild(this.shape)},t.prototype.updateDrowShape=function(e,t,o){this.shape.x=e,this.shape.y=t,GameObject.display.addChild(this.shape)},t}(PhysicsObject);__reflect(PhysicsBall.prototype,"PhysicsBall");var MyBall=function(e){function t(o,i,a){var s=e.call(this,o,i,a)||this;return t.I=s,0==GameObject.display.hasEventListener(egret.TouchEvent.TOUCH_BEGIN)&&GameObject.display.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(e){return t.touch(e)},!1),s}return __extends(t,e),t.touch=function(e){0==Game.gameOverFlag&&t.I.body.applyForceLocal([0,-5e3],[0,0])},t.prototype.updateContent=function(){this.updateDrowShape(this.body.position[0],this.body.position[1],this.radius)},t.I=null,t.collisionFlag=!1,t}(PhysicsBall);__reflect(MyBall.prototype,"MyBall");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},t.prototype.onProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var GraphicShape;!function(e){e[e.NONE=Math.pow(2,0)]="NONE",e[e.CIECLE=Math.pow(2,1)]="CIECLE",e[e.BOX=Math.pow(2,2)]="BOX",e[e.LINE=Math.pow(2,3)]="LINE",e[e.DEAD_LINE=Math.pow(2,4)]="DEAD_LINE"}(GraphicShape||(GraphicShape={}));var BoxType;!function(e){e[e.NORMAL=0]="NORMAL",e[e.BOLD=1]="BOLD",e[e.FAST=2]="FAST"}(BoxType||(BoxType={}));var StageLevel;!function(e){e[e.ONE=0]="ONE",e[e.TWO=1]="TWO",e[e.THREE=2]="THREE"}(StageLevel||(StageLevel={}));var Main=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,t.addToStage,t),t}return __extends(t,e),t.prototype.addToStage=function(){GameObject.initial(this.stage),Util.init(this),Game.init(),egret.startTick(this.tickLoop,this)},t.prototype.tickLoop=function(e){return GameObject.update(),CreateWorld.worldBegin(e),!1},t}(eui.UILayer);__reflect(Main.prototype,"Main");var Game=function(){function e(){}return e.init=function(){this.height=egret.MainContext.instance.stage.stageHeight,this.width=egret.MainContext.instance.stage.stageWidth,e.gameOverFlag=!1,new Background,new MoveDisplay,new CreateWorld,new CreateObject,new MyBall(e.width/2,e.height-50,50),new Score},e.gameOverFlag=!1,e.stageLevel=StageLevel.ONE,e}();__reflect(Game.prototype,"Game");var Background=function(e){function t(){var t=e.call(this)||this;return t.shape=new egret.Shape,t.shape.graphics.beginFill(128),t.shape.graphics.drawRect(0,0,Game.width,Game.height),t.shape.graphics.endFill(),GameObject.display.addChild(t.shape),t}return __extends(t,e),t.prototype.updateContent=function(){},t}(GameObject);__reflect(Background.prototype,"Background");var CreateWorld=function(e){function t(){var o=e.call(this)||this;return t.I=o,o.createWorld(),t.world.on("beginContact",o.collision,o),t.world.on("endContact",o.collisionEnd,o),o}return __extends(t,e),t.prototype.createWorld=function(){t.world=new p2.World,t.world.sleepMode=p2.World.BODY_SLEEPING,t.world.gravity=[0,9.8]},t.worldBegin=function(e){return 0==Game.gameOverFlag&&t.world.step(1/60,e/1e3,10),!1},t.prototype.collision=function(e){var t=(e.bodyA,e.bodyB,e.shapeA),o=e.shapeB;this.checkShape(t,o)},t.prototype.collisionEnd=function(){},t.prototype.checkShape=function(e,t){e.collisionGroup==GraphicShape.CIECLE&&t.collisionGroup==GraphicShape.BOX?(Game.gameOverFlag=!0,Game.gameOverFlag&&new GameOver):t.collisionGroup==GraphicShape.CIECLE&&e.collisionGroup==GraphicShape.BOX?(Game.gameOverFlag=!0,Game.gameOverFlag&&new GameOver):e.collisionGroup==GraphicShape.CIECLE&&t.collisionGroup==GraphicShape.LINE?(Score.I.addScore(),t.collisionMask=GraphicShape.NONE):t.collisionGroup==GraphicShape.CIECLE&&e.collisionGroup==GraphicShape.LINE&&(Score.I.addScore(),e.collisionMask=null)},t.prototype.addDestroyMethod=function(){t.world.clear()},t.prototype.updateContent=function(){},t.I=null,t}(PhysicsObject);__reflect(CreateWorld.prototype,"CreateWorld");var CreateObject=function(e){function t(){var t=e.call(this)||this;return t.createBox(),t}return __extends(t,e),t.prototype.createBox=function(){for(var e=0;6>e;e++){var t=Game.height/2;new ScoreLine(Game.width/2,-2*Game.height+t*e,Game.width,0,ScoreLine.scoreLineColor),new RightBox(Game.width,-2*Game.height+t*e,300,50,MyBox.normalBoxColor),new LeftBox(0,-2*Game.height+t*e,300,50,MyBox.normalBoxColor)}},t.prototype.updateContent=function(){switch(Score.I.score){case 0:Game.stageLevel=StageLevel.ONE,MyBox.sideMoveSpeed=2;break;case 5:Game.stageLevel=StageLevel.TWO,MyBox.sideMoveSpeed=2;break;case 10:Game.stageLevel=StageLevel.THREE,MyBox.sideMoveSpeed=4}},t}(GameObject);__reflect(CreateObject.prototype,"CreateObject");var DebugPlatform=function(){function e(){}return e.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2,{nickName:"username"}]})})},e.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){return[2]})})},e}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var Score=function(e){function t(){var o=e.call(this)||this;o.score=0,o.bestScore=0,o.text=null,o.textBest=null,o.textColor=65339,t.I=o,o.score=0,o.text=Util.myText(0,0,"SCORE : 0",100,.5,o.textColor,!0),GameObject.display.addChild(o.text);var i=window.localStorage.getItem("bestScore_ThroughTheGate");return null==i&&(i="0",window.localStorage.setItem("bestScore_ThroughTheGate",i)),o.bestScore=parseInt(i),o.textBest=Util.myText(0,50,"BEST : "+i,100,.5,o.textColor,!0),GameObject.display.addChild(o.textBest),o}return __extends(t,e),t.prototype.onDestroy=function(){GameObject.display.removeChild(this.text),this.text=null,GameObject.display.removeChild(this.textBest),this.textBest=null},t.prototype.updateContent=function(){this.text.text="SCORE : "+this.score.toFixed(),this.bestScore<this.score&&(this.bestScore=this.score,this.textBest.text="BEST : "+this.score.toFixed())},t.prototype.addScore=function(){this.score+=1},t.I=null,t}(GameObject);__reflect(Score.prototype,"Score");var ThemeAdapter=function(){function e(){}return e.prototype.getTheme=function(e,t,o,i){function a(e){t.call(i,e)}function s(t){t.resItem.url==e&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),o.call(i))}var r=this;if("undefined"!=typeof generateEUI)egret.callLater(function(){t.call(i,generateEUI)},this);else if("undefined"!=typeof generateEUI2)RES.getResByUrl("resource/gameEui.json",function(e,o){window.JSONParseClass.setData(e),egret.callLater(function(){t.call(i,generateEUI2)},r)},this,RES.ResourceItem.TYPE_JSON);else if("undefined"!=typeof generateJSON)if(e.indexOf(".exml")>-1){var n=e.split("/");n.pop();var h=n.join("/")+"_EUI.json";generateJSON.paths[e]?egret.callLater(function(){t.call(i,generateJSON.paths[e])},this):RES.getResByUrl(h,function(o){window.JSONParseClass.setData(o),egret.callLater(function(){t.call(i,generateJSON.paths[e])},r)},this,RES.ResourceItem.TYPE_JSON)}else egret.callLater(function(){t.call(i,generateJSON)},this);else RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,s,null),RES.getResByUrl(e,a,this,RES.ResourceItem.TYPE_TEXT)},e}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var Util=function(){function e(){}return e.init=function(e){this.height=e.stage.stageHeight,this.width=e.stage.stageWidth},e.random=function(e,t){return e+Math.random()*(t-e)},e.randomInt=function(e,t){return Math.floor(e+Math.random()*(t+.999-e))},e.clamp=function(e,t,o){return t>e&&(e=t),e>o&&(e=o),e},e.color=function(e,t,o){return 65536*Math.floor(255*e)+256*Math.floor(255*t)+Math.floor(255*o)},e.colorLerp=function(e,t,o){var i=1-o,a=((16711680&e)*i+(16711680&t)*o&16711680)+((65280&e)*i+(65280&t)*o&65280)+((255&e)*i+(255&t)*o&255);return a},e.myText=function(e,t,o,i,a,s,r){var n=new egret.TextField;return n.x=e,n.y=t,n.text=o,n.bold=r,n.size=i,n.scaleX=a,n.scaleY=a,n.textColor=s,n},e.myStrokeText=function(e,t,o,i,a,s,r,n,h){var p=new egret.TextField;return p.x=e,p.y=t,p.scaleX=a,p.scaleY=a,p.textFlow=[{text:o,style:{textColor:s,size:i,fontFamily:r,strokeColor:n,stroke:h}}],p},e}();__reflect(Util.prototype,"Util");